<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>Wara Privacy Policy</title>
    <style>
      :root { color-scheme: light dark; }
      body {
        margin: 0 auto;
        padding: 32px 20px;
        max-width: 860px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.6;
      }
      h1, h2, h3 { line-height: 1.25; }
      h1 { font-size: 2rem; margin: 0 0 0.5rem; }
      .updated { color: #666; font-size: 0.95rem; margin: 0 0 1.25rem; }
      p { margin: 0 0 1rem; }
      ul { margin: 0.5rem 0 1rem 1.25rem; }
      li { margin: 0.4rem 0; }
      code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
      a { color: #0b6cff; text-decoration: none; }
      a:hover { text-decoration: underline; }
      hr { border: 0; border-top: 1px solid rgba(127,127,127,.35); margin: 1.5rem 0; }
    </style>
  </head>
  <body>
    <header>
      <h1>Wara Privacy Policy</h1>
      <p class="updated">Last updated: 28 Nov 2025</p>
    </header>

    <p>This Privacy Policy describes how Wara (the "App") collects, uses, and protects information when you use its Korean food product ingredient scanning and halal classification features.</p>
    <p>By using the App, you agree to the practices described here. If you do not agree, please do not use the App.</p>

    <h2>Information We Collect</h2>
    <ul>
      <li>
        <strong>Camera input and photo upload</strong>
        <ul>
          <li>The App uses your device camera to capture images of product labels for Optical Character Recognition (OCR).</li>
          <li>OCR is performed locally on your device using Apple's Vision framework to extract Korean text from the label.</li>
          <li>The raw OCR text is sent to our backend to classify the product and provide halal status results.</li>
          <li><strong>The scanned product photo is uploaded to our servers</strong> after successful OCR analysis and product classification. This happens automatically once the backend returns scan results. Photos help build our product database and enable sharing product images with other users. Photos are associated with your <code>user_id</code> and the scan result.</li>
        </ul>
      </li>
      <li>
        <strong>Photo library access and upload</strong>
        <ul>
          <li>If you choose to import photos from your library for scanning, the App processes them locally for OCR using the same Vision framework.</li>
          <li>The recognized text is sent to the backend for classification.</li>
          <li>Imported photos are also uploaded to our servers after successful scanning, just like camera-captured photos, to contribute to the product database.</li>
        </ul>
      </li>
      <li>
        <strong>Pseudonymous identifier</strong>
        <ul>
          <li>On first launch, the App generates a pseudonymous <code>user_id</code> (UUIDv7) and stores it on your device (<code>UserDefaults</code>).</li>
          <li>This identifier is attached to API requests via the <code>X-User-ID</code> header for request correlation and service quality (e.g., rate limiting, troubleshooting). It is not combined with contact details.</li>
        </ul>
      </li>
      <li>
        <strong>Local ingredient database</strong>
        <ul>
          <li>The App maintains a local database of Korean ingredient names and their halal classification using SwiftData. This data is stored on your device only and used to provide real-time ingredient detection and classification.</li>
        </ul>
      </li>
      <li>
        <strong>Scan history and favorites</strong>
        <ul>
          <li>When you scan products or mark items as favorites, this information is stored locally on your device.</li>
          <li>The App syncs favorite status and scan metadata with the backend using the <code>user_id</code> to provide a consistent experience across sessions and calculate aggregate product popularity metrics (such as favorite counts).</li>
          <li>Successfully scanned product photos are uploaded to our servers and associated with your scan results to display in your history and share with the community.</li>
          <li>Syncing favorites, scan results, and uploading photos require an active internet connection. If the network request fails (e.g., when offline), these actions will not be completed until you retry when back online.</li>
        </ul>
      </li>
      <li>
        <strong>Usage data and logs</strong>
        <ul>
          <li>The App records minimal runtime logs (e.g., load and error messages) for debugging and functionality. These logs are local to the device; the App does not embed third‑party analytics SDKs or tracking services.</li>
        </ul>
      </li>
      <li>
        <strong>Product information from backend</strong>
        <ul>
          <li>The App downloads product details, ingredient lists, halal classifications, images, and categories from the backend after scanning.</li>
          <li>The backend analyzes the OCR text and returns detailed product information including Korean and English ingredient names, halal status (safe/doubtful/haram), and KMF certification data.</li>
          <li>This content does not contain your personal information.</li>
        </ul>
      </li>
    </ul>

    <h2>How We Use Information</h2>
    <ul>
      <li>Provide Korean ingredient scanning and halal classification results based on OCR text analysis.</li>
      <li>Show relevant product details, categories, and halal alternatives.</li>
      <li>Save your favorite products and scan history (stored locally and synced with backend).</li>
      <li>Store successfully scanned product photos to build a comprehensive community product database and improve recognition accuracy.</li>
      <li>Display product images in scan results and search features for you and other users.</li>
      <li>Maintain service quality, including request correlation and rate limiting through the pseudonymous <code>user_id</code>.</li>
      <li>Provide real-time ingredient detection feedback using on-device haptic alerts.</li>
    </ul>

    <h2>Data Processing and Transfers</h2>
    <ul>
      <li>
        <strong>Backend endpoints</strong>
        <ul>
          <li>The App communicates with our backend (<code>api.wara.web.id</code> for production and <code>api-dev.wara.web.id</code> for development) to classify products, fetch product details, and sync favorite status.</li>
          <li>Scan requests include the <code>X-User-ID</code> header and the raw OCR text extracted from the product label.</li>
          <li><strong>Photo uploads</strong>: Successfully scanned product photos are uploaded via multipart form-data to our servers after OCR analysis and classification complete. Photos are stored in cloud storage (S3-compatible) and the photo URL is associated with your scan result and <code>user_id</code>.</li>
          <li>The backend may return product information, images (from our database or user uploads), categories, and halal alternatives based on the submitted OCR text.</li>
        </ul>
      </li>
      <li>
        <strong>Encryption in transit</strong>
        <ul>
          <li>Production traffic uses HTTPS (TLS). Non‑production environments used for development may use HTTP, but release builds aim to use HTTPS.</li>
        </ul>
      </li>
      <li>
        <strong>Third‑party frameworks</strong>
        <ul>
          <li>Apple frameworks (Vision, AVFoundation, SwiftData, UIKit) operate locally on your device.</li>
          <li>Networking uses Alamofire purely as an HTTP client; it does not independently collect personal data.</li>
        </ul>
      </li>
    </ul>

    <h2>On‑Device Storage and Retention</h2>
    <ul>
      <li>
        <strong>Pseudonymous <code>user_id</code></strong>
        <ul>
          <li>Stored in <code>UserDefaults</code> until you delete the App or reset the device’s app data.</li>
        </ul>
      </li>
      <li>
        <strong>Image caching</strong>
        <ul>
          <li>Remote product images loaded from the backend may be cached in the system Caches directory to improve performance. These are not personal to you and may be cleared by iOS automatically or by uninstalling the App.</li>
        </ul>
      </li>
      <li>
        <strong>Scan history and favorites</strong>
        <ul>
          <li>Products you scan or mark as favorites are stored locally on your device.</li>
          <li>Scan metadata (product ID, timestamp, favorite status) is synced with the backend to enable cross-device access and personalized recommendations.</li>
          <li>Successfully scanned product photos are uploaded to our servers and linked to your scan results.</li>
        </ul>
      </li>
      <li>
        <strong>Scanned product photos</strong>
        <ul>
          <li>Product photos from successful scans (via camera or photo library) are uploaded and stored on our cloud storage servers after OCR processing and classification complete.</li>
          <li>Uploaded photos are associated with your <code>user_id</code> and the specific scan result ID.</li>
          <li>Photos may include front and/or back packaging images. The app stores a label ("front" or "back") to indicate which side of the packaging the photo represents, helping display accurate product images.</li>
          <li>These photos are displayed to other users in search results and product details to help the community identify halal products.</li>
          <li>Original photos are not retained locally on your device after upload; only the OCR text is kept briefly in memory for classification, then discarded.</li>
        </ul>
      </li>
    </ul>

    <h2>Server‑Side Retention</h2>
    <p>The backend receives raw OCR text and the <code>X-User-ID</code> header to provide product classification and results. We aim to retain this information only as long as necessary to deliver and improve the service.</p>
    <p><strong>Successfully scanned product photos</strong> are uploaded and stored on our cloud servers indefinitely to maintain the community product database. These photos are associated with your <code>user_id</code> and scan result metadata. You may request deletion of your uploaded photos by contacting us.</p>
    <p>Product favorites and scan metadata associated with your <code>user_id</code> may be retained to enable personalization and service continuity. Specific retention periods may vary with operational needs and legal obligations.</p>

    <h2>Your Choices and Rights</h2>
    <ul>
      <li>
        <strong>Permissions</strong>
        <ul>
          <li>Camera: required to scan labels. You can grant or revoke this in iOS Settings.</li>
          <li>Photo Library: optional for importing images. You can grant or revoke this in iOS Settings.</li>
        </ul>
      </li>
      <li>
        <strong>Deletion</strong>
        <ul>
          <li>Deleting the App removes on‑device data, including the pseudonymous <code>user_id</code>, cached images, and local scan history.</li>
          <li>You may request backend deletion of scan metadata, favorites, and scanned photos associated with your <code>user_id</code> by contacting us.</li>
          <li>Note that successfully scanned photos are uploaded and shared with the community; deletion requests will remove them from our servers, but other users may have already viewed or cached them.</li>
        </ul>
      </li>
      <li>
        <strong>Opt‑out of tracking</strong>
        <ul>
          <li>The App does not track you across third‑party apps or websites and does not use advertising identifiers.</li>
        </ul>
      </li>
    </ul>

    <h2>Data Sharing</h2>
    <ul>
      <li>We do not sell personal information.</li>
      <li>We share data only with service providers necessary to operate the backend and deliver App functionality, under appropriate safeguards.</li>
    </ul>

    <h2>Children’s Privacy</h2>
    <p>The App is not directed to children under 13. If you believe a child provided us data, please contact us so we can delete it.</p>

    <h2>Security</h2>
    <p>We use technical and organizational measures to protect information, including TLS encryption in production for data in transit and controlled access on the backend. However, no method of transmission or storage is 100% secure.</p>

    <h2>Changes to This Policy</h2>
    <p>We may update this Policy from time to time. The “Last updated” date at the top reflects the latest revision. Continued use of the App after changes indicates acceptance of the updated Policy.</p>

    <h2>Contact</h2>
    <p>For privacy questions or requests (including deletion), please email: <a href="mailto:business.irham@gmail.com">business.irham@gmail.com</a> or use the contact method listed on the App Store page.</p>
  </body>
</html>
